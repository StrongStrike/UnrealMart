{"ast":null,"code":"import{useState}from'react';import{motion}from'framer-motion';import axios from'axios';import{useSettings}from'../context/SettingsContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ImageAnalyzer(){const{settings}=useSettings();const[file,setFile]=useState(null);const[preview,setPreview]=useState(null);const[result,setResult]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleFileChange=e=>{const img=e.target.files[0];if(img){setFile(img);setPreview(URL.createObjectURL(img));setResult([]);setError(null);}};const handleAnalyze=async()=>{if(!file)return;setLoading(true);setResult([]);setError(null);const formData=new FormData();formData.append('image',file);try{const res=await axios.post('http://localhost:5000/analyze',formData,{headers:{'Content-Type':'multipart/form-data'}});setResult(res.data.detected||[]);}catch(err){console.error(err);setError('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:`min-h-screen ${settings.theme==='dark'?'bg-gradient-to-b from-gray-950 to-gray-900 text-white':'bg-gradient-to-b from-gray-100 to-white text-black'} flex flex-col items-center justify-center p-6 transition duration-500`,children:[/*#__PURE__*/_jsx(motion.h2,{className:\"text-4xl font-bold mb-6 tracking-widest text-center\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:\"\\uD83E\\uDDE0 AI-\\u0412\\u0438\\u0434\\u0435\\u043D\\u0438\\u0435 UnrealMart\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"mb-6 text-sm text-purple-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-700 file:text-white hover:file:bg-purple-800 transition\"}),preview&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},transition:{duration:0.5},className:\"relative border-4 border-purple-700 rounded-xl overflow-hidden shadow-lg mb-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\",className:\"max-w-xs object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none\"})]}),/*#__PURE__*/_jsx(motion.button,{onClick:handleAnalyze,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:`${loading?'opacity-50 cursor-not-allowed':''} bg-purple-600 hover:bg-purple-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl transition duration-300`,children:loading?'üîÑ AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç...':'üöÄ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ'}),error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-red-400 mt-6 text-sm italic\",initial:{opacity:0},animate:{opacity:1},children:error}),!loading&&result.length===0&&preview&&!error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-purple-400 mt-6 text-sm italic\",initial:{opacity:0},animate:{opacity:1},children:\"\\u041D\\u0430\\u0436\\u043C\\u0438 \\xAB\\u0410\\u043D\\u0430\\u043B\\u0438\\u0437\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\\xBB \\u2014 AI \\u043F\\u043E\\u043A\\u0430\\u0436\\u0435\\u0442, \\u0447\\u0442\\u043E \\u043E\\u043D \\u0432\\u0438\\u0434\\u0438\\u0442.\"}),result.length>0&&/*#__PURE__*/_jsxs(motion.div,{className:\"mt-10 bg-white/10 dark:bg-white/5 p-6 rounded-xl max-w-xl w-full shadow-lg backdrop-blur-md border border-purple-500\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-4 text-purple-300\",children:[\"\\uD83D\\uDD0D \\u041E\\u0431\\u043D\\u0430\\u0440\\u0443\\u0436\\u0435\\u043D\\u043E \\u043E\\u0431\\u044A\\u0435\\u043A\\u0442\\u043E\\u0432: \",result.length]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 text-lg\",children:result.map((item,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-purple-800/30 hover:bg-purple-700/50 transition px-4 py-2 rounded-lg shadow text-white border border-purple-500\",children:[\"\\u26A1 \",item]},idx))})]})]});}","map":{"version":3,"names":["useState","motion","axios","useSettings","jsx","_jsx","jsxs","_jsxs","ImageAnalyzer","settings","file","setFile","preview","setPreview","result","setResult","loading","setLoading","error","setError","handleFileChange","e","img","target","files","URL","createObjectURL","handleAnalyze","formData","FormData","append","res","post","headers","data","detected","err","console","className","theme","children","h2","initial","opacity","y","animate","transition","duration","type","accept","onChange","div","scale","src","alt","button","onClick","disabled","whileHover","whileTap","p","length","delay","map","item","idx"],"sources":["E:/my-projects/UnrealMart/unrealmart/src/components/ImageAnalyzer.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport axios from 'axios'\r\nimport { useSettings } from '../context/SettingsContext'\r\n\r\nexport default function ImageAnalyzer() {\r\n\tconst { settings } = useSettings()\r\n\tconst [file, setFile] = useState(null)\r\n\tconst [preview, setPreview] = useState(null)\r\n\tconst [result, setResult] = useState([])\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error, setError] = useState(null)\r\n\r\n\tconst handleFileChange = e => {\r\n\t\tconst img = e.target.files[0]\r\n\t\tif (img) {\r\n\t\t\tsetFile(img)\r\n\t\t\tsetPreview(URL.createObjectURL(img))\r\n\t\t\tsetResult([])\r\n\t\t\tsetError(null)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleAnalyze = async () => {\r\n\t\tif (!file) return\r\n\t\tsetLoading(true)\r\n\t\tsetResult([])\r\n\t\tsetError(null)\r\n\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', file)\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post('http://localhost:5000/analyze', formData, {\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\r\n\t\t\t})\r\n\r\n\t\t\tsetResult(res.data.detected || [])\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\tsetError('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è')\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`min-h-screen ${\r\n\t\t\t\tsettings.theme === 'dark'\r\n\t\t\t\t\t? 'bg-gradient-to-b from-gray-950 to-gray-900 text-white'\r\n\t\t\t\t\t: 'bg-gradient-to-b from-gray-100 to-white text-black'\r\n\t\t\t} flex flex-col items-center justify-center p-6 transition duration-500`}\r\n\t\t>\r\n\t\t\t<motion.h2\r\n\t\t\t\tclassName='text-4xl font-bold mb-6 tracking-widest text-center'\r\n\t\t\t\tinitial={{ opacity: 0, y: -20 }}\r\n\t\t\t\tanimate={{ opacity: 1, y: 0 }}\r\n\t\t\t\ttransition={{ duration: 0.6 }}\r\n\t\t\t>\r\n\t\t\t\tüß† AI-–í–∏–¥–µ–Ω–∏–µ UnrealMart\r\n\t\t\t</motion.h2>\r\n\r\n\t\t\t<input\r\n\t\t\t\ttype='file'\r\n\t\t\t\taccept='image/*'\r\n\t\t\t\tonChange={handleFileChange}\r\n\t\t\t\tclassName='mb-6 text-sm text-purple-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-700 file:text-white hover:file:bg-purple-800 transition'\r\n\t\t\t/>\r\n\r\n\t\t\t{preview && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tinitial={{ opacity: 0, scale: 0.9 }}\r\n\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\ttransition={{ duration: 0.5 }}\r\n\t\t\t\t\tclassName='relative border-4 border-purple-700 rounded-xl overflow-hidden shadow-lg mb-6'\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={preview}\r\n\t\t\t\t\t\talt='–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä'\r\n\t\t\t\t\t\tclassName='max-w-xs object-cover'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='absolute inset-0 border-2 border-white/20 rounded-xl pointer-events-none' />\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\r\n\t\t\t<motion.button\r\n\t\t\t\tonClick={handleAnalyze}\r\n\t\t\t\tdisabled={loading}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\tclassName={`${\r\n\t\t\t\t\tloading ? 'opacity-50 cursor-not-allowed' : ''\r\n\t\t\t\t} bg-purple-600 hover:bg-purple-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl transition duration-300`}\r\n\t\t\t>\r\n\t\t\t\t{loading ? 'üîÑ AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç...' : 'üöÄ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ'}\r\n\t\t\t</motion.button>\r\n\r\n\t\t\t{error && (\r\n\t\t\t\t<motion.p\r\n\t\t\t\t\tclassName='text-red-400 mt-6 text-sm italic'\r\n\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</motion.p>\r\n\t\t\t)}\r\n\r\n\t\t\t{!loading && result.length === 0 && preview && !error && (\r\n\t\t\t\t<motion.p\r\n\t\t\t\t\tclassName='text-purple-400 mt-6 text-sm italic'\r\n\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t–ù–∞–∂–º–∏ ¬´–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ¬ª ‚Äî AI –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –æ–Ω –≤–∏–¥–∏—Ç.\r\n\t\t\t\t</motion.p>\r\n\t\t\t)}\r\n\r\n\t\t\t{result.length > 0 && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tclassName='mt-10 bg-white/10 dark:bg-white/5 p-6 rounded-xl max-w-xl w-full shadow-lg backdrop-blur-md border border-purple-500'\r\n\t\t\t\t\tinitial={{ opacity: 0, y: 20 }}\r\n\t\t\t\t\tanimate={{ opacity: 1, y: 0 }}\r\n\t\t\t\t\ttransition={{ delay: 0.3 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3 className='text-xl font-semibold mb-4 text-purple-300'>\r\n\t\t\t\t\t\tüîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤: {result.length}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<ul className='space-y-2 text-lg'>\r\n\t\t\t\t\t\t{result.map((item, idx) => (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\tclassName='bg-purple-800/30 hover:bg-purple-700/50 transition px-4 py-2 rounded-lg shadow text-white border border-purple-500'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t‚ö° {item}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}